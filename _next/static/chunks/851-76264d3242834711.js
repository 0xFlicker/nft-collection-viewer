(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[851],{3308:function(e,n,t){"use strict";t.d(n,{Z:function(){return ee}});var r=t(2010),a=t(6168),i=t(2459),o=t.n(i),s=t(5097),u=t(6687),c=t(8647),p=t(8621),d=t(42);function l(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var y=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"contractURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenOfOwnerByIndex",outputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"}],f=function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e)}var n,t,r;return n=e,r=[{key:"createInterface",value:function(){return new d.vU(y)}},{key:"connect",value:function(e,n){return new p.CH(e,y,n)}}],(t=null)&&l(n.prototype,t),r&&l(n,r),e}();function m(e,n,t,r,a,i,o){try{var s=e[i](o),u=s.value}catch(c){return void t(c)}s.done?n(u):Promise.resolve(u).then(r,a)}function v(e){return function(){var n=this,t=arguments;return new Promise((function(r,a){var i=e.apply(n,t);function o(e){m(i,r,a,o,s,"next",e)}function s(e){m(i,r,a,o,s,"throw",e)}o(void 0)}))}}function b(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function h(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){b(e,n,t[n])}))}return e}f.abi=y;var x={},T=(0,c.oM)({name:"erc721",initialState:x,reducers:{connect:function(e,n){e.provider=n.payload},setAccounts:function(e,n){e.accounts=n.payload},selectAccount:function(e,n){e.selectedAccount=n.payload},setContractAddress:function(e,n){e.contractAddress=n.payload}}}),w=h({},x,{contract:void 0,connect:v(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))}),_=(0,u.createContext)(w);var g=function(e){var n=e.contractAddress,t=e.children,a=function(e){var n=(0,u.useReducer)(T.reducer,e),t=n[0],r=n[1],a=(0,u.useMemo)((function(){if(t.provider&&t.contractAddress)return f.connect(t.contractAddress,t.provider)}),[t.provider,t.contractAddress]);(0,u.useEffect)((function(){var e;if(null===(e=window.ethereum)||void 0===e?void 0:e.request){var n=new s.Q(window.ethereum);r(T.actions.connect(n))}}),[]),(0,u.useEffect)((function(){var e;if(t.provider){var n=function(e){r(T.actions.setAccounts(e))};return null===(e=t.provider)||void 0===e||e.addListener("accountsChanged",n),function(){var e;null===(e=t.provider)||void 0===e||e.removeListener("accountsChanged",n)}}}),[t.provider]),(0,u.useEffect)((function(){if(t.accounts&&t.provider){var e=t.provider.getSigner(t.accounts[0]);r(T.actions.selectAccount(e))}}),[t.accounts,t.provider]),(0,u.useEffect)((function(){t.provider&&t.provider.listAccounts().then((function(e){r(T.actions.setAccounts(e))}))}),[t.provider]);var i=(0,u.useCallback)(v(o().mark((function e(){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.provider){e.next=5;break}return e.next=3,t.provider.send("eth_requestAccounts",[]);case 3:n=e.sent,r(T.actions.setAccounts(n));case 5:case"end":return e.stop()}}),e)}))),[t.provider]);return h({},t,{contract:a,connect:i})}(h({},w,{contractAddress:n}));return(0,r.jsx)(_.Provider,{value:a,children:t})};function j(){return(0,u.useContext)(_)}var k=t(6126),A=t.n(k),I=function(){var e=j().contract,n=(0,u.useState)(""),t=n[0],a=n[1],i=(0,u.useState)(""),o=i[0],s=i[1];return(0,u.useEffect)((function(){e&&(e.name().then((function(e){a(e)})),e.symbol().then((function(e){s(e)})))}),[e]),(0,r.jsxs)("div",{className:A().container,children:[(0,r.jsxs)("div",{className:A().row,children:[(0,r.jsx)("span",{className:A().header,children:"Name:"}),(0,r.jsx)("span",{className:A().name,children:t})]}),(0,r.jsxs)("div",{className:A().row,children:[(0,r.jsx)("span",{className:A().header,children:"Symbol:"}),(0,r.jsx)("span",{className:A().symbol,children:o})]})]})},M=t(8756),O=t(5131);function C(){var e,n=j().connect,t=(0,u.useCallback)((function(){n()}),[n]);return(0,r.jsx)(M.Z,{variant:"outlined",onClick:t,startIcon:(0,r.jsx)("img",{src:(e="metamask-fox.svg","".concat(O.env.NEXT_GITHUB_PAGES_HOST,"/").concat("nft-collection-viewer","/").concat(e)),width:25,height:25}),children:"Connect Wallet"})}var N=t(3543),P=t.n(N),D=t(1837),S=t(7355),E=t(9222),Z=t(718),B=t(5874),F=t(4379),R=t(7035),U=t(3191),q=t.n(U);function H(e){var n=function(e){var n=e.split("ipfs://");return n.length>0?n[1]:e}(e);return"".concat("https://ipfs.infura.io/ipfs/").concat(n)}var L=t(6556),Q=t.n(L);function G(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var K=.4,z=.1,W=.03,X=function(e){var n=e.tokenId,t=e.rarityData,a=j().contract,i=(0,u.useState)(""),o=i[0],s=i[1],c=(0,u.useState)([]),p=(c[0],c[1]);(0,u.useEffect)((function(){a&&a.tokenURI(n).then((function(e){fetch(H(e)).then((function(e){e.json().then((function(e){p(e.attributes),s(H(e.image))}))}))}))}),[a,n]);var d=(0,u.useMemo)((function(){return t[n]/t.length}),[n,t]),l=(0,u.useMemo)((function(){var e;return q()((G(e={},Q().rare,d>=z&&d<K),G(e,Q().epic,d>=W&&d<z),G(e,Q().legendary,d<W),e))}),[d]);return(0,r.jsx)(D.ZP,{item:!0,xs:12,sm:6,md:3,xl:2,children:(0,r.jsx)(S.Z,{variant:"elevation",children:(0,r.jsxs)(E.Z,{sx:{position:"relative"},children:[(0,r.jsx)(Z.Z,{title:"#".concat(n),titleTypographyProps:{align:"right"}}),o?(0,r.jsx)(B.Z,{sx:{marginTop:"1rem",marginBottom:"1rem"},children:(0,r.jsx)(F.Z,{component:"img",width:"480",image:o})}):(0,r.jsx)(B.Z,{children:(0,r.jsx)("div",{className:Q().loading,children:(0,r.jsx)(R.Z,{})})}),(0,r.jsx)("div",{className:l})]})})},n)},J=function(e){var n=e.tokens,t=e.rarityData;return(0,r.jsx)(D.ZP,{container:!0,spacing:{xs:2,md:3},columns:12,children:n.map((function(e){return(0,r.jsx)(X,{tokenId:e,rarityData:t},e)}))})};function V(e,n,t,r,a,i,o){try{var s=e[i](o),u=s.value}catch(c){return void t(c)}s.done?n(u):Promise.resolve(u).then(r,a)}function Y(e){return function(){var n=this,t=arguments;return new Promise((function(r,a){var i=e.apply(n,t);function o(e){V(i,r,a,o,s,"next",e)}function s(e){V(i,r,a,o,s,"throw",e)}o(void 0)}))}}var $=function(e){var n=e.rarityData,t=j(),a=t.contract,i=t.selectedAccount,s=(0,u.useState)([]),c=s[0],p=s[1];return(0,u.useEffect)((function(){function e(){return(e=Y(o().mark((function e(){var n,t,r,s,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a||!i){e.next=13;break}return e.next=3,i.getAddress();case 3:return n=e.sent,e.next=6,a.balanceOf(n);case 6:for(t=e.sent.toNumber(),r=[],s=0;s<t;s++)r.push(a.tokenOfOwnerByIndex(n,s).then((function(e){return e.toNumber()})));return e.next=11,Promise.all(r);case 11:u=e.sent,p(u);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(function(){return e.apply(this,arguments)})().catch((function(e){return console.error(e)}))}),[a,i]),(0,r.jsxs)("div",{className:P().root,children:[(0,r.jsx)(C,{}),(0,r.jsx)(J,{tokens:c,rarityData:n})]})},ee=function(e){var n=e.contractAddress,t=e.rarityData;return(0,r.jsxs)(g,{contractAddress:n,children:[(0,r.jsxs)(a.default,{children:[(0,r.jsx)("title",{children:"Root"}),(0,r.jsx)("meta",{name:"description",content:"TBD"}),(0,r.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,r.jsx)(I,{}),(0,r.jsx)($,{rarityData:t})]})}},6126:function(e){e.exports={container:"Description_container__xOKcg",row:"Description_row__g3nbi",header:"Description_header__nj3n7",name:"Description_name__qNAfw",symbol:"Description_symbol__Qiz4_"}},6556:function(e){e.exports={loading:"ActionableCard_loading__a6hdK",rarity:"ActionableCard_rarity__oHgFd",rare:"ActionableCard_rare__C66Zp",shine:"ActionableCard_shine__9tSt_",epic:"ActionableCard_epic__OQROB",legendary:"ActionableCard_legendary__qtL9_"}},3543:function(e){e.exports={root:"Tokens_root__c3v3A"}},6360:function(){}}]);